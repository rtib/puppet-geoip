<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Puppet Class: geoip
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "puppet_classes::geoip";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../puppet_class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (g)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet Classes</span></span>
     &raquo; 
    <span class="title">geoip</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="puppet_class_list_link"
        href="../puppet_class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Puppet Class: geoip</h1>
<div class="box_info">
  
  
  <dl>
    <dt>Defined in:</dt>
    <dd>
      manifests/init.pp
    </dd>
  </dl>
</div>

<h2>Overview</h2>
<div class="docstring">
  <div class="discussion">
    
<p>The geoip module installs tools and databases GeoIP resolution from MaxMind.</p>

<p>You may replace userid and licensekey with your subscription and add the productids you want to sync. Leaving these options on default will allow you to sync all free available databases. With database_directory the destination directory of the databases can be set, protocol, proxy* and *_verification may only be needed in the case your host needs some specific proxy settings to get to the internet.</p>

  </div>
</div>


<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>hiera</p>
</div></p>
      
      <pre class="example code"><code>geoip::config:
  userid: &#39;999999&#39;
  licensekey: &#39;000000000000&#39;
  productids:
    - GeoLite2-City
    - GeoLite2-Country
  database_directory:
  protocol:
  proxy:
  proxy_user_password:
  skip_hostname_verification:
  skip_peer_verification:</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>ensure</span>
      
      
        <span class='type'>(<tt>Enum['present', 'absent']</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;present&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>install or remove settings done by this module</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>packages</span>
      
      
        <span class='type'>(<tt>Array[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[&#39;mmdb-bin&#39;, &#39;geoipupdate&#39;]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the software packages containing the tools to be installed</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>package_ensure</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;latest&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>which version of the packages should be ensured</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>config_path</span>
      
      
        <span class='type'>(<tt>Stdlib::Absolutepath</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/etc/GeoIP.conf&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>path to the configuration and license file</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>config_version</span>
      
      
        <span class='type'>(<tt>Enum['lt311','ge311']</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;lt311&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the config version to use for geoipupdate</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>config</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>hash of configuration options</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>manage_service</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>true</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>whether to manage database updating service</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_user</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;root&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>effective user the update service should run</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_group</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;root&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>effective group the update service should run</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>update_path</span>
      
      
        <span class='type'>(<tt>Stdlib::Absolutepath</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;/usr/bin/geoipupdate&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>path to the geoipupdate tool, used by update service</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>service_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;geoip_update&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>name of the update service</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>update_timers</span>
      
      
        <span class='type'>(<tt>Array[String]</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>wallclock timers when the update service should be triggered (for syntax see <a href="https://www.freedesktop.org/software/systemd/man/systemd.time.html#Parsing%20Timestamps">systemd.time(7)#Parsing Timestamps</a>)</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>update_scatter</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>1800</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>a time window in seconds of randomized, host specific delay of the update trigger (see <a href="https://www.freedesktop.org/software/systemd/man/systemd.timer.html#AccuracySec=">systemd.timer(5)#AccuracySec</a>)</p>
</div>
      
    </li>
  
</ul>



</div><div class="method_details_list">
  <table class="source_code">
    <tr>
      <td>
        <pre class="lines">


39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61</pre>
      </td>
      <td>
        <pre class="code"><span class="info file"># File 'manifests/init.pp', line 39</span>

class geoip (
  Enum[&#39;present&#39;, &#39;absent&#39;] $ensure = &#39;present&#39;,
  Array[String]             $packages = [&#39;mmdb-bin&#39;, &#39;geoipupdate&#39;],
  String                    $package_ensure = &#39;latest&#39;,
  Stdlib::Absolutepath      $config_path = &#39;/etc/GeoIP.conf&#39;,
  Enum[&#39;lt311&#39;,&#39;ge311&#39;]     $config_version = &#39;lt311&#39;,
  Hash                      $config = {},
  Boolean                   $manage_service = true,
  String                    $service_user = &#39;root&#39;,
  String                    $service_group = &#39;root&#39;,
  Stdlib::Absolutepath      $update_path = &#39;/usr/bin/geoipupdate&#39;,
  String                    $service_name = &#39;geoip_update&#39;,
  Array[String]             $update_timers = [],
  Integer                   $update_scatter = 1800,
) {
  contain geoip::install
  contain geoip::config
  contain geoip::service

  Class[&#39;geoip::install&#39;]
  -&gt; Class[&#39;geoip::config&#39;]
  ~&gt; Class[&#39;geoip::service&#39;]
}</pre>
      </td>
    </tr>
  </table>
</div>
</div>

      <div id="footer">
     Generated by <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>.
</div>

    </div>
  </body>
</html>